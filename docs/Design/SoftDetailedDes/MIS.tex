\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument[SRS-]{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\begin{document}

\title{Module Interface Specification for \progname{}}

\author{\authname}

\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Date 1 & 1.0 & Notes\\
Date 2 & 1.1 & Notes\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation at \wss{give url}

\wss{Also add any additional symbols, abbreviations or acronyms}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for
\wss{Fill in your project name and description}

Complementary documents include the System Requirement Specifications
and Module Guide.  The full documentation and implementation can be
found at \url{...}.  \wss{provide the url for your repo}

\section{Notation}

\wss{You should describe your notation.  You can use what is below as
  a starting point.}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname. 

\begin{center}
\renewcommand{\arraystretch}{1.2}
\noindent 
\begin{tabular}{l l p{7.5cm}} 
\toprule 
\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
\midrule
character & char & a single symbol or digit\\
integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
\bottomrule
\end{tabular} 
\end{center}

\noindent
The specification of \progname \ uses some derived data types: sequences, strings, and
tuples. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. In addition, \progname \ uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
\centering
\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Level 1} & \textbf{Level 2}\\
\midrule

{Hardware-Hiding} & ~ \\
\midrule

\multirow{7}{0.3\textwidth}{Behaviour-Hiding} & Input Parameters\\
& Output Format\\
& Output Verification\\
& Temperature ODEs\\
& Energy Equations\\ 
& Control Module\\
& Specification Parameters Module\\
\midrule

\multirow{3}{0.3\textwidth}{Software Decision} & {Sequence Data Structure}\\
& ODE Solver\\
& Plotting\\
\bottomrule

\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}

\newpage
~\newpage

\section{MIS of RTC Control Module} \label{sec:rtcctrl}

\subsection{Module}

RTCControl

\subsection{Uses}

\noindent Web APIs

\noindent STUN Server Module

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
  \begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
    \hline
    \textbf{Name}               & \textbf{In}             & \textbf{Out}            & \textbf{Exceptions} \\
    \hline
    createPeerConnection  & JSON              & RTCPeerConnection & -             \\
    closeRemoteConnection & RTCPeerConnection & -                 & -             \\
    negotiate             & RTCPeerConnection & -                 & -             \\
    \hline
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

N/A

\subsubsection{Environment Variables}

\noindent STUN\_SERVER\_ADDRESS: string --- represents the address of the STUN server

\noindent SFU\_BROADCAST\_API: string --- represents the API endpoint for SFU broadcast API

\noindent SFU\_CONSUME\_API: string --- represents the API endpoint for SFU consume API

\subsubsection{Assumptions}

SFU server and STUN servers are running in normal conditions.

\subsubsection{Access Routine Semantics}

\noindent createPeerConnectionWith(config: JSON):
\begin{itemize}
\item transition: N/A
\item output: pc := RTCPeerConnection --- initializes a new RTCPeerConnection based
  on the given configuration.
\item exception: N/A
\end{itemize}


\noindent closeRemoteConneciton(pc: RTCPeerConnection):
\begin{itemize}
\item transition: pc.signalingState := closed --- closes peer connection and send a
  signal to the connected peer connection.
\item output: N/A
\item exception: N/A
\end{itemize}


\noindent negotiate(pc: RTCPeerConnection):
\begin{itemize}
\item transition:

  pc.localDescription := RTCSessionDescriptionInit

  pc.remoteDescription := RTCSessionDescriptionInit

  sets the local description of the peer connection to its generated SDP, and
  set the remote description of the peer connection to its received SDP from
  SFU\_BROADCAST\_API.
\item output: N/A
\item exception: N/A
\end{itemize}


\noindent getRemoteStream(pc: RTCPeerConnection):
\begin{itemize}
\item transition: pc.event := getRemoteEvent(pc).streams
\item output: N/A
\item exception: N/A
\end{itemize}

\subsubsection{Local Functions}

\noindent getRemoteEvent(pc: RTCPeerConnection):
\begin{itemize}
\item transition: N/A
\item output: pc.event := RTCTrackEvent
\item exception: N/A
\end{itemize}


\section{MIS of Media Control Module} \label{sec:mediactrl}

\subsection{Module}

MediaContorl

\subsection{Uses}

\noindent Web APIs

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
  \begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
    \hline
    \textbf{Name}          & \textbf{In}   & \textbf{Out}      & \textbf{Exceptions} \\
    \hline
    setMicEnabled    & Boolean & -           & -             \\
    setCameraEnabled & Boolean & -           & -             \\
    getStream        & -       & MediaStream & -             \\
    \hline
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\noindent isMicEnabled: Boolean

\noindent isCameraEnabled: Boolean

\subsubsection{Environment Variables}

\noindent Microphone

\noindent Camera

\subsubsection{Assumptions}

User's devices have a functioning screen, camera and microphone.

\subsubsection{Access Routine Semantics}

\noindent setMicEnabled(isEnabled: Boolean):
\begin{itemize}
\item transition: isMicEnabled := isEnabled
\item output: N/A
\item exception: N/A
\end{itemize}


\noindent setCameraEnabled(isEnabled: Boolean):
\begin{itemize}
\item transition: isCameraEnabled := isEnabled
\item output: N/A
\item exception: N/A
\end{itemize}


\noindent getStream():
\begin{itemize}
\item transition: N/A
\item output: returns the user media stream based on the state value
  isCameraEnabled and isMicEnabled
\item exception: N/A
\end{itemize}

\subsubsection{Local Functions}

N/A


\section{MIS of Instructor View Module} \label{sec:instrcview}

\subsection{Module}

Instructor

\subsection{Uses}

\noindent Media Control Module

\noindent RTC Control Module

\noindent Annotation Configuration Module

\noindent React

\noindent Web APIs

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
  \begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
    \hline
    \textbf{Name}    & \textbf{In} & \textbf{Out}          & \textbf{Exceptions} \\
    \hline
    Instructor & -     & React.component & -             \\
    \hline
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\noindent remoteVideoRef: HTMLVideoElement

\noindent selfVideoRef: HTMLVideoElement

\noindent peerConnection: RTCPeerConnection

\subsubsection{Environment Variables}

\noindent Screen

\subsubsection{Assumptions}

User's devices have a functioning screen, camera and microphone.

\subsubsection{Access Routine Semantics}

\noindent Instructor():
\begin{itemize}
\item transition: N/A
\item output: renders a react component of the instructor view page
\item exception: N/A
\end{itemize}

\subsubsection{Local Functions}

\noindent setPeerConnection(pc: RTCPeerConnection):
\begin{itemize}
\item transition: peerConnection := pc
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent getSelfVideo():
\begin{itemize}
\item transition:

  selfVideoRef.current.video.srcObject:= MediaControl.getStream()

  render video stream from the local camera to screen
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent startRemoteSharing():
\begin{itemize}
\item transition: peerConnection.addTrack := MediaControl.getStream()
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent stopRemoteSharing():
\begin{itemize}
\item transition:

  remoteVideoRef.current.video.srcObject = null

  peerConnection.close:= true

  stops the remote video on the userâ€™s screen and close the RTCPeerConnection
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent getRemoteVideo():
\begin{itemize}
\item transition: get remote video coming from the SFU server and render it on the
  user's screen.
\item output: N/A
\item exception: N/A
\end{itemize}


\section{MIS of Practitioner View Module} \label{sec:pracview}

\subsection{Module}

Practitioner

\subsection{Uses}

\noindent Media Control Module

\noindent RTC Control Module

\noindent Annotation Configuration Module

\noindent React

\noindent Web APIs

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
  \begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
    \hline
    \textbf{Name}      & \textbf{In} & \textbf{Out}          & \textbf{Exceptions} \\
    \hline
    Practitioner & -     & React.component & -             \\
    \hline
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\noindent remoteVideoRef: HTMLVideoElement

\noindent peerConnection: RTCPeerConnection

\subsubsection{Environment Variables}

\noindent Screen

\subsubsection{Assumptions}

User's devices have a functioning screen.

\subsubsection{Access Routine Semantics}

N/A

\subsubsection{Local Functions}

\noindent setPeerConnection(pc: RTCPeerConnection):
\begin{itemize}
\item transition: peerConnection := pc
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent getRemoteVideo():
\begin{itemize}
\item transition: get remote video coming from the SFU server and render it on the
  user's screen.
\item output: N/A
\item exception: N/A
\end{itemize}


\section{MIS of Annotation Configuration Module} \label{sec:annoconfig}

\subsection{Module}

AnnotationConfig

\subsection{Uses}

\noindent RTC Control Module

\noindent React

\subsection{Syntax}

\subsubsection{Exported Constants}

N/A

\subsubsection{Exported Access Programs}

\begin{center}
  \begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
    \hline
    \textbf{Name}              & \textbf{In}   & \textbf{Out}  & \textbf{Exceptions} \\
    \hline
    setIsSkeletonEnabled & Boolean & -       & -             \\
    setIsCOMEnabled      & Boolean & -       & -             \\
    getIsSkeletonEnable  & -       & Boolean & -             \\
    getIsCOMEnable       & -       & Boolean & -             \\
    \hline
  \end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\noindent isSkeletonEnabled: Boolean

\noindent isCOMEnabled: Boolean

\subsubsection{Environment Variables}

N/A

\subsubsection{Assumptions}

N/A

\subsubsection{Access Routine Semantics}

\noindent setIsSkeletonEnabled(isEnabled: Boolean):
\begin{itemize}
\item transition: isSkeletonEnabled := isEnabled
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent setIsCOMEnabled(isEnabled: Boolean):
\begin{itemize}
\item transition: isCOMEnabled := isEnabled
\item output: N/A
\item exception: N/A
\end{itemize}

\noindent getIsSkeletonEnabled():
\begin{itemize}
\item transition: N/A
\item output: isSkeletonEnabled
\item exception: N/A
\end{itemize}

\noindent getIsCOMEnabled():
\begin{itemize}
\item transition: N/A
\item output: isCOMEnabled
\item exception: N/A
\end{itemize}


\subsubsection{Local Functions}

N/A

\newpage

\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}

\end{document}